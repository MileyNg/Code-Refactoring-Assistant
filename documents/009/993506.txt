/*
Hokudai Practice Contest 2014
F - Differential Pulse Code Modulation

ティツァツ」テヲツウツ陛ッツシツ咼P
y_iテ」ツつ津」ツ?づ」ツつ凝・ツ?、pテ」ツ?ォテァツャツヲテ・ツ渉キテ・ツ個姪」ツ?凖」ツつ凝」ツ?ィテ」ツ?催」ツ?ョテ」ツつウテ」ツつケテ」ツδ暗」ツ?ッテ」ツ?【_{i-1}テ」ツつ津」ツ?ゥテ」ツ?ョテ・ツ?、テ」ツ?ォテァツャツヲテ・ツ渉キテ・ツ個姪」ツ?療」ツ?淌」ツ?凝」ツ??
テ」ツ?ォテ」ツ?療」ツ?凝、ツセツ敕・ツュツ佚」ツ?療」ツ?ヲテ」ツ??」ツ?ェテ」ツ??」ツ?づ」ツつ暗」ツ?」テ」ツ?ヲテ」ツ??
テ」ツ??P[i][p] := y_iテ」ツつ恥テ」ツ?ォテァツャツヲテ・ツ渉キテ・ツ個姪」ツ?療」ツ?淌」ツ?ィテ」ツ?催」ツ?ョテ」ツ?（テ」ツ?セテ」ツ?ァテ」ツ?ョテヲツ慊?・ツーツ湘、ツコツ古、ツケツ療・ツ陳?
テ」ツ?ィテ」ツ?凖」ツつ凝」ツ?ィテ」ツ??
  DP[i][p] := min{ DP[i-1][p-c_j] + (p-c_j)^2 | 0<=j<m}
テ」ツ?ィテヲツシツクテ・ツ個姪・ツシツ湘」ツ?古ァツォツ凝」ツ?ヲテ」ツつ嘉」ツつ古」ツつ凝」ツ??テヲツュツ」テァツ「ツコテ」ツ?ォテ」ツ?ッテ」ツ??テ」ツつ?55テ」ツ?ァテ」ツ?ョテ、ツクツクテ」ツつ?」ツつづィツ?εヲツ?ョテ」ツ?凖」ツつ凝・ツソツ?ィツヲツ?」ツ?古」ツ?づ」ツつ?

DPテ」ツδ?」ツδシテ」ツδ姪」ツδォテ」ツ?ョNテδ?56テ」ツ?ョテ」ツ?敕」ツつ古」ツ?榲」ツつ古」ツ?ョテァツ環カテヲツ?凝」ツ?ォテ」ツ?、テ」ツ??」ツ?ヲテ」ツ??
テ」ツ?ゥテ」ツ?ョテ」ツつウテ」ツδシテ」ツδ嘉」ツδ姪」ツδε」ツつッテ」ツつ津ァツ板ィテ」ツ??」ツつ凝」ツ?ョテ」ツ?凝」ツつ津」ツ?凖」ツ?ケテ」ツ?ヲティツゥツヲテ」ツ?崚」ツ?ーテ」ツつ暗」ツ??」ツ?淌」ツつ?」ツ??
テヲツ卍づゥツ鳴禿ィツィツ暗ァツョツ療ゥツ?湘」ツ?ッ256*N*Mテ」ツ?ァテヲツ環妥」ツ?暗」ツつ嘉」ツつ古」ツつ凝」ツ??
*/

#include<iostream>
#include<cstring>
using namespace std;
//テァツュツ氾」ツ?暗」ツ?ョテァツ青?ィツォツ姪ヲツ慊?ヲツつェテ・ツ?、テ」ツ?栗NT_MAXテ」ツ?ォティツソツ妥」ツ?湘ヲツ?ェテ」ツ?療」ツ??」ツ?淌」ツつ?」ツ??・ツソツオテ」ツ?ョテ」ツ?淌」ツつ〕ong longテ」ツつ津ァツ板ィテ」ツ??」ツつ?
typedef long long ll;

ll dp[20001][256];
ll code[20], x[20000];
const ll INF = 1e15;

int main(){
  int n,m;
  while(cin >> n >> m, n){
    for(int i=0;i<m;i++)cin >> code[i];
    for(int i=0;i<n;i++)cin >> x[i];

    //テ・ツ按敕ヲツ慊淌・ツ個?
    for(int i=0;i<=n;i++){
      for(int j=0;j<256;j++)dp[i][j] = INF;
    }
    dp[0][128] = 0;

    //DP
    for(int i=0;i<n;i++){
      for(int j=0;j<256;j++){
	for(int k=0;k<m;k++){
	  //テ・ツ可催」ツ?ョテ・ツ?、テ」ツ?桂テ」ツ?ァテ」ツ?づ」ツつ甘」ツ?〔テァツ閉ェテァツ崢ョテ」ツ?ョテ」ツつウテ」ツδシテ」ツδ嘉」ツδ姪」ツδε」ツつッテ」ツつ津、ツスツソテ」ツ??・ツ?エテ・ツ青暗」ツ?ョテ・ツ?、nxtテ」ツつ津ヲツアツづ」ツつ?」ツつ?
	  ll nxt = j+code[k];
	  if(nxt<0)nxt = 0;
	  if(nxt>255)nxt = 255;

	  //テ、ツコツ古、ツケツ療ィツェツ、テ・ツキツョテ」ツつ津ヲツアツづ」ツつ?」ツつ?
	  ll cost = (x[i]-nxt)*(x[i]-nxt);

	  //テヲツシツクテ・ツ個姪・ツシツ湘」ツ?ォテ・ツ淞コテ」ツ?・テ」ツ??」ツ?淌ィツィツ暗ァツョツ療」ツつ津ィツ。ツ古」ツ??
	  dp[i+1][nxt] = min(dp[i+1][nxt], dp[i][j] + cost);
	}
      }
    }

    ll ans = INF;
    //テヲツ慊?・ツセツ古」ツ?ョテ・ツ?、テ」ツ?ッテ」ツ??」ツ?湘」ツつ嘉」ツ?ァテ」ツ?づ」ツ?」テ」ツ?ヲテ」ツつづ」ツつ暗」ツ??」ツ?ョテ」ツ?ァテ」ツ??」ツ?凖」ツ?ケテ」ツ?ヲテ」ツ?ョテ、ツクツュテ」ツ?ョテヲツ慊?・ツーツ湘・ツ?、テ」ツつ津ヲツアツづ」ツつ?」ツつ?
    for(int i=0;i<256;i++)ans = min(ans, dp[n][i]);
    cout << ans << endl;
  }
}